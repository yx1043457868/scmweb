webpackJsonp([45],{gSVd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("34+y");var i=n("X+yh"),o=n.n(i),a=n("teIl"),c=n("0xDb"),s={name:"confirmOrder",components:{Header:a.a},data:function(){return{contactName:"",contactPhone:"",contactProvince:"-1",contactCity:"-1",contactAddress:"",provinceList:[],cityList:[]}},computed:{},created:function(){this.initProvinceList()},methods:{initProvinceList:function(){var t=this,e="{'company_id':'"+(this.$store.getters.account?this.$store.getters.account:{}).companyId+"'}";this.$post("/appRegister/provinceList.do",{content:e,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(e){var n=JSON.parse(e);"yes"==n.optFlag?t.provinceList=n.res:o()({message:n.optDesc,duration:1e3})})},loadCity:function(t){var e=this,n="{'parentid':'"+t+"'}";this.$post("/appRegister/cityList.do",{content:n,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(t){var n=JSON.parse(t);"yes"==n.optFlag?(e.cityList=n.res,e.cityList.length>0?e.contactCity=e.cityList[0].id:e.contactCity=""):o()({message:"地址初始化失败",duration:1e3})})},commit:function(){var t=this;if(""==this.contactName)return o()({message:"请填写收货人",duration:1e3}),!1;if(""==this.contactPhone)return o()({message:"请填写收货联系方式",duration:1e3}),!1;if(!Object(c.g)(this.contactPhone))return o()({message:"手机号格式不正确",duration:1e3}),!1;if(""==this.contactProvince||"-1"==this.contactProvince)return o()({message:"请选择所在地区",duration:1e3}),!1;if(""==this.contactAddress)return o()({message:"请输入详细地址",duration:1e3}),!1;var e=this.$store.getters.account?this.$store.getters.account:{},n=e.shopId,i=(e.account,"{'shopId':'"+n+"','contactName':'"+this.contactName+"','contactPhone':'"+this.contactPhone+"','contactProvince':'"+this.contactProvince+"','contactCity':'"+this.contactCity+"','contactAddress':'"+this.contactAddress+"'}");this.$post("/appShippingAddress/saveShopAddress.do",{content:i,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(e){var n=JSON.parse(e);"yes"==n.optFlag?(o()({message:n.optRes,duration:1e3}),t.$router.go(-1)):o()({message:n.optRes,duration:1e3})})}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{title:"添加收货地址"}}),t._v(" "),n("div",{staticClass:"my-content"},[n("div",{staticClass:"form-wrapper"},[n("mt-field",{attrs:{label:"收货人",placeholder:"请输入收货人"},model:{value:t.contactName,callback:function(e){t.contactName=e},expression:"contactName"}}),t._v(" "),n("mt-field",{attrs:{label:"手机号",placeholder:"请输入手机号",type:"tel"},model:{value:t.contactPhone,callback:function(e){t.contactPhone=e},expression:"contactPhone"}}),t._v(" "),n("div",{staticClass:"mint-cell mint-field",attrs:{"data-v-3c547f92":""}},[n("div",{staticClass:"mint-cell-left"}),t._v(" "),n("div",{staticClass:"mint-cell-wrapper"},[t._m(0),t._v(" "),n("div",{staticClass:"mint-cell-value"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.contactProvince,expression:"contactProvince"}],staticClass:"required",attrs:{name:"province",id:"province"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.contactProvince=e.target.multiple?n:n[0]},function(e){t.loadCity(t.contactProvince)}]}},[n("option",{attrs:{disabled:"",value:"-1"}},[t._v(" 请选择")]),t._v(" "),t._l(t.provinceList,function(e,i){return n("option",{key:i,domProps:{value:e.id}},[t._v(t._s(e.title))])})],2),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.contactCity,expression:"contactCity"},{name:"show",rawName:"v-show",value:t.cityList&&t.cityList.length>0,expression:"cityList && cityList.length > 0"}],attrs:{name:"city",id:"city"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.contactCity=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:"-1",selected:""}},[t._v("请选择")]),t._v(" "),t._l(t.cityList,function(e,i){return n("option",{key:i,domProps:{value:e.id}},[t._v(t._s(e.title))])})],2)])]),t._v(" "),n("div",{staticClass:"mint-cell-right"})]),t._v(" "),n("mt-field",{attrs:{label:"详细地址",placeholder:"请输入详细地址",type:"textarea",rows:"2"},model:{value:t.contactAddress,callback:function(e){t.contactAddress=e},expression:"contactAddress"}})],1),t._v(" "),n("div",{staticClass:"bottom-btn"},[n("button",{staticClass:"def-btn",attrs:{type:"button"},on:{click:t.commit}},[t._v("完成")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-cell-title"},[e("span",{staticClass:"mint-cell-text"},[this._v("所在地区")])])}]};var l=n("VU/8")(s,r,!1,function(t){n("i7aK")},"data-v-41d40d90",null);e.default=l.exports},i7aK:function(t,e){}});