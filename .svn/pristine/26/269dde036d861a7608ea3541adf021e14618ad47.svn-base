webpackJsonp([43],{vmsE:function(t,i){},xLqJ:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});a("PBmY");var e=a("I4Nl"),s=a.n(e),n=a("teIl"),c=a("0xDb"),r=a("2nmU"),l={name:"myactivity",components:{Header:n.a,emptyBox:r.a},data:function(){return{activiteStart:[],activing:[],activitend:[],flag1:!1,flag2:!1,flag3:!1,tip:!1}},created:function(){this.activeList(),this.init()},methods:{activeList:function(){var t=this,i="{'shopId':'"+(this.$store.getters.account?this.$store.getters.account:{}).shopId+"'}";this.$post("/activity/signUpActivityList.do",{content:i,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(i){var a=JSON.parse(i);if("yes"==a.optFlag){var e=a.res;a.res.length>0?t.tip=!1:t.tip=!0,(e=e&&e.filter(function(t,i){if(t)return t}))&&e.map(function(i,a){var e=new Date;Object(c.a)(i.start_time)>e&&t.activiteStart.push(i)}),e&&e.map(function(i,a){var e=new Date,s=Object(c.a)(i.start_time),n=Object(c.a)(i.end_time);s<e&&e<n&&t.activing.push(i)}),e&&e.map(function(i,a){new Date>Object(c.a)(i.end_time)&&t.activitend.push(i)}),console.log(t.activitend,t.activing,t.activiteStart,"11111")}else s()("数据查询失败")})},changDate1:function(t){var i=new Date;return t=t&&t.replace(new RegExp(/-/gm),"/"),new Date(Date.parse(t))>i},back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.push("/usercenter")},init:function(){window.addEventListener("scroll",this.scrollFun)},scrollFun:function(){if(this.$refs.activeTab1){var t=this.$refs.activeTab1.parentNode.offsetTop;window.pageYOffset>=t-42?this.flag1=!0:this.flag1=!1}if(this.$refs.activeTab2){var i=this.$refs.activeTab2.parentNode.offsetTop;window.pageYOffset>=i-72?this.flag2=!0:this.flag2=!1}if(this.$refs.activeTab3){var a=this.$refs.activeTab3.parentNode.offsetTop;window.pageYOffset>=a-120?this.flag3=!0:this.flag3=!1}}}},v={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("Header",{attrs:{title:"已报名活动"}}),t._v(" "),a("div",{staticStyle:{height:"44px"}}),t._v(" "),t.activing&&t.activing.length>0?a("div",{staticClass:"active-list",attrs:{id:"changflag1"}},[a("a",{attrs:{href:"#changflag1"}},[a("div",{ref:"activeTab1",staticClass:"activeTab",class:t.flag1?"fixed1":""},[a("i"),a("span",[t._v("正在进行")])])]),t._v(" "),t.flag1?a("div",{staticStyle:{height:"38px"}}):t._e(),t._v(" "),a("ul",t._l(t.activing,function(i,e){return a("li",{key:e},[a("router-link",{attrs:{to:{path:"/activitydetail",query:{id:i.id}}}},[a("div",{staticClass:"list-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.baseurl+i.img_path,expression:"baseurl+item.img_path"}],attrs:{alt:"正在进行"}})]),t._v(" "),a("div",{staticClass:"activecontent clearfix "},[a("p",{staticClass:"list-content"},[t._v(t._s(i.name))]),t._v(" "),a("p",{staticClass:"list-time"},[t._v(t._s(i.start_time)+"——"+t._s(i.end_time))])])])],1)}),0)]):t._e(),t._v(" "),t.activiteStart&&t.activiteStart.length>0?a("div",{staticClass:"active-list",attrs:{id:"changflag2"}},[a("a",{attrs:{href:"#changflag2"}},[a("div",{ref:"activeTab2",staticClass:"activeTab2",class:t.flag2?t.flag1?"fixed2":"fixed1":""},[a("i"),a("span",[t._v("即将开始")])])]),t._v(" "),t.flag2?a("div",{staticStyle:{height:"38px"}}):t._e(),t._v(" "),a("ul",t._l(t.activiteStart,function(i,e){return a("li",{key:e},[a("router-link",{attrs:{to:{path:"/activitydetail",query:{id:i.id}}}},[a("div",{staticClass:"list-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.baseurl+i.img_path,expression:"baseurl+item.img_path"}],attrs:{alt:"正在进行"}})]),t._v(" "),a("div",{staticClass:"activecontent clearfix "},[a("p",{staticClass:"list-content"},[t._v(t._s(i.name))]),t._v(" "),a("p",{staticClass:"list-time"},[t._v(t._s(i.start_time)+"——"+t._s(i.end_time))])])])],1)}),0)]):t._e(),t._v(" "),t.activitend&&t.activitend.length>0?a("div",{staticClass:"active-list",attrs:{id:"changflag3"}},[a("a",{attrs:{href:"#changflag3"}},[a("div",{ref:"activeTab3",staticClass:"activeTab3",class:t.flag3?t.flag2&&t.flag1?"fixed3":t.flag2||t.flag1?"fixed2":"fixed1":""},[a("i"),a("span",[t._v("往期回顾")])])]),t._v(" "),t.flag3?a("div",{staticStyle:{height:"38px"}}):t._e(),t._v(" "),a("ul",t._l(t.activitend,function(i,e){return a("li",{key:e},[a("router-link",{attrs:{to:{path:"/activitydetail",query:{id:i.id}}}},[a("div",{staticClass:"list-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.baseurl+i.img_path,expression:"baseurl+item.img_path"}],attrs:{alt:"特价专区"}}),t._v(" "),a("div",{staticClass:"activeend"},[t._v("已结束")])]),t._v(" "),a("div",{staticClass:"activecontent"},[a("p",{staticClass:"list-content"},[t._v(t._s(i.name))]),t._v(" "),a("p",{staticClass:"list-time"},[t._v(t._s(i.start_time)+"——"+t._s(i.end_time))])])])],1)}),0)]):t._e(),t._v(" "),a("emptyBox",{directives:[{name:"show",rawName:"v-show",value:t.tip,expression:"tip"}],attrs:{tiptext:"亲,暂无已报名加活动~"}})],1)},staticRenderFns:[]};var f=a("C7Lr")(l,v,!1,function(t){a("vmsE")},"data-v-5149a10c",null);i.default=f.exports}});