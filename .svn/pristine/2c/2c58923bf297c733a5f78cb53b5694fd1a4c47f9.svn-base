webpackJsonp([11],{B9hn:function(e,t){e.exports="data:image/png;base64,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"},F60B:function(e,t){},Jfzh:function(e,t){e.exports="data:image/png;base64,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"},Meru:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("PBmY");var s=a("I4Nl"),i=a.n(s),o=(a("yvAY"),a("fc0N")),n=a.n(o),c=a("0xDb"),r={name:"pay",data:function(){return{code:this.$route.query.orderCode,orderCode:"",fu_sum:0,advance:"",advance_sun:"",switchvalue:!1,checkedValue:"",shop_id:"",flagadvance:!0,coupon_amount:0,isShow:!1,isPointShow:!1,popupVisible:!1,popupWx:!1,credit_state:"",credit_lines:0,used_lines:0,totalPrice:0,isWeixinBrowser:Object(c.i)(),can_owe_payment:"",owe_payment_status:"",depositBankAccount:"",depositBankBranch:"",settleBankAccount:"",wxcode:"",openid:"",pointAmount:"",showWx:!1}},watch:{checkedValue:function(e){var t=this;if(!e||!this.switchvalue)return e;n.a.confirm("确认关闭预付款支付吗?选择其他支付").then(function(a){t.switchvalue=!1;var s="{'shop_id':'"+t.shop_id+"','switch_status':'Y'}";t.$post("appAdvance/switchStatus.do",{content:s,version:"kkllo",login_token:t.$store.getters.logintoken}).then(function(a){var s=JSON.parse(a);return"yes"==s.optFlag?(i()(s.optDesc),t.switchvalue||(t.flagadvance=!0,t.advance_sun=t.fu_sum),e=""):(i()(s.optDesc),e)})}).catch(function(){t.switchvalue=!0,t.checkedValue=""})}},created:function(){this.initpayInfo();var e=Object(c.e)("code");Object(c.i)()&&(this.$store.getters.openId||(e?this.getOpenIdByCode(e):this.authorize()))},mounted:function(){var e=this.$store.getters.account.account;this.showWx="18062754891"==e},methods:{authorize:function(){var e=Object(c.e)("code"),t=(navigator.userAgent,this.appid),a=location.origin+"/pay?orderCode="+this.code,s="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t+"&redirect_uri="+encodeURIComponent(a)+"&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect";e?(this.wxcode=e,this.$store.getters.openId||this.getOpenIdByCode(e)):window.location.href=s},changSwitch:function(){var e=this;this.switchvalue?n.a.confirm("确认打开预付款支付?").then(function(t){e.switchvalue=!0;var a="{'shop_id':'"+e.shop_id+"','switch_status':'N'}";e.$post("/appAdvance/switchStatus.do",{content:a,version:"kkllo",login_token:e.$store.getters.logintoken}).then(function(t){var a=JSON.parse(t);if("yes"==a.optFlag)if(e.checkedValue="",i()(a.optDesc),e.switchvalue){var s=Object(c.n)(e.fu_sum,e.advance);e.advance_sun=s,e.flagadvance=s>0}else e.flagadvance=!0,e.advance_sun=e.fu_sum;else i()(a.optDesc)})}).catch(function(){e.switchvalue=!1}):n.a.confirm("确认关闭预付款支付吗?选择其他支付").then(function(t){e.switchvalue=!1;var a="{'shop_id':'"+e.shop_id+"','switch_status':'Y'}";e.$post("appAdvance/switchStatus.do",{content:a,version:"kkllo",login_token:e.$store.getters.logintoken}).then(function(t){var a=JSON.parse(t);"yes"==a.optFlag?(i()(a.optDesc),e.switchvalue||(e.flagadvance=!0,e.advance_sun=e.fu_sum)):i()(a.optDesc)})}).catch(function(){e.switchvalue=!0})},goPay:function(){this.$router.push({path:"/"})},back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.push({path:"/vpOrderList"})},creditPay:function(e){var t=this;if("Y"==e){var a=this.$store.getters.account,s="{'orderCode':'"+this.code+"','account':'"+a.account+"'}";this.$post("/appVpOrder/payOrderByCreditLines.do",{content:s,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(e){var a=JSON.parse(e);"yes"==a.optFlag?t.$router.push({path:"/orderOk",query:{code:a.orderCode,creatTime:a.creatTime,orderQRCodePath:a.orderQRCodePath,type:"pay"}}):i()(a.optDesc)})}},moneyPay:function(e){var t=this,a="{'orderCode':'"+this.code+"','payType':'"+e+"'}";this.$post("/appVpOrder/updateOrderPayType.do",{content:a,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(e){var a=JSON.parse(e);"yes"==a.optFlag?t.$router.push({path:"/orderOk",query:{code:a.orderCode,creatTime:a.creatTime,orderQRCodePath:a.orderQRCodePath}}):i()(a.optDesc)})},touchstart:function(){},initpayInfo:function(){var e=this;this.$post("/appVpOrder/getPayMoney.do",{out_trade_no:this.code}).then(function(t){var a=JSON.parse(t);if("yes"==a.optFlag){e.depositBankAccount=a.res.depositBankAccount,e.depositBankBranch=a.res.depositBankBranch,e.settleBankAccount=a.res.settleBankAccount,e.shop_id=a.res.shop_id,e.orderCode=a.res.orderCode,e.credit_state=a.res.credit_state,e.credit_lines=a.res.credit_lines?a.res.credit_lines:0,e.used_lines=a.res.used_lines?a.res.used_lines:0,e.fu_sum=a.res.fu_sum,e.can_owe_payment=a.res.can_owe_payment,e.owe_payment_status=a.res.owe_payment_status,e.totalPrice=Object(c.j)(parseFloat(a.res.fu_sum),parseFloat(a.res.coupon_amount)),e.advance=parseFloat(a.res.amount_use)>0?a.res.amount_use:0;var s=Object(c.n)(Object(c.j)(parseFloat(a.res.fu_sum),parseFloat(a.res.coupon_amount)),parseFloat(a.res.amount_use));"Y"==a.res.switch_status&&a.res.fu_sum<=a.res.amount_use?(e.advance_sun=s,e.switchvalue=!0,e.flagadvance=s>0):(e.switchvalue=!1,e.flagadvance=!0,e.advance_sun=e.fu_sum),"0.00"==a.res.coupon_amount&&0==a.res.coupon_amount||(e.pointAmount=a.res.pointAmount,Object(c.f)(e.pointAmount)?e.isPointShow=!1:e.isPointShow=!0,e.coupon_amount=Object(c.n)(a.res.coupon_amount,a.res.pointAmount),e.coupon_amount>0?e.isShow=!0:e.isShow=!1)}else i()({message:a.optDesc,duration:950})})},aliPay:function(){window.location.href=this.baseurl+"swiftPay/scanCodePayMent.do?decType=mobile&payType=ALI&out_trade_no="+this.code},wxcodePay:function(){window.location.href=this.baseurl+"swiftPay/scanCodePayMent.do?decType=mobile&payType=WX&out_trade_no="+this.code},getOpenIdByCode:function(e){var t=this,a={code:e||this.wxcode,orderCode:this.code};this.$post("/wx/getOpenIdByCode.do",a).then(function(e){var a=JSON.parse(e);"yes"==a.optFlag&&(t.$store.commit("setOpenId",a.res.openid),t.openid=a.res.openid)})},wxH5Pay:function(){var e=this;if(Object(c.i)())try{this.$post("/wx/jsWxApiPayMent.do",{out_trade_no:this.code,openid:this.openid?this.openid:this.$store.getters.openId}).then(function(t){var a=JSON.parse(t);if("yes"==a.optFlag){var s=JSON.parse(a.result),o=JSON.parse(s.pay_info);e.weixinPay(o)}else i()(a.optDesc)})}catch(e){i()({message:"支付异常",duration:950})}else i()({message:"仅在微信客户端使用",duration:950})},weixinPay:function(e){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",this.onBridgeReady(e),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",this.onBridgeReady(e)),document.attachEvent("onWeixinJSBridgeReady",this.onBridgeReady(e))):this.onBridgeReady(e)},onBridgeReady:function(e){var t=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},function(e){"get_brand_wcpay_request:ok"==e.err_msg?t.$router.push({path:"/"}):"get_brand_wcpay_request:cancel"==e.err_msg?i()("您已取消支付"):"get_brand_wcpay_request:fail"==e.err_msg&&n()("提示",e.err_desc)})},checkIsPay:function(){var e=this;this.$post("/wxPay/checkIsPay.do",{out_trade_no:this.code}).then(function(t){var a=JSON.parse(t);e.popupVisible=!1,e.popupWx=!1,a.optFlag,i()({message:a.optDesc,duration:950})})},advancePay:function(){var e=this,t=this.$store.getters.account.account,a="{'orderCode':'"+this.code+"','account':'"+t+"'}";this.$post("/appVpOrder/payOrderByAdvance.do",{content:a,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(t){var a=JSON.parse(t);"yes"==a.optFlag?e.$router.push({path:"/orderOk",query:{code:a.orderCode,creatTime:a.creatTime,orderQRCodePath:a.orderQRCodePath,type:"advance"}}):i()(a.optDesc)})},confirmBtn:function(){var e=parseFloat(this.advance_sun);this.switchvalue&&e<=0?this.advancePay():(this.checkedValue||i()("请选择支付结算类型"),"微信客户端支付"==this.checkedValue&&this.wxH5Pay(),"支付宝"==this.checkedValue&&this.aliPay(),"微信"==this.checkedValue&&this.wxcodePay(),"信用"==this.checkedValue&&this.creditPay(this.credit_state),"现金"==this.checkedValue&&this.moneyPay(4))}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order_pay"},[s("div",{staticClass:"header"},[s("mt-header",{attrs:{title:"支付"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:e.back},slot:"left"})],1)],1),e._v(" "),s("div",{staticClass:"my-content"},[s("div",{staticClass:"pay-info"},[e._m(0),e._v(" "),s("div",{staticClass:"mui-input-group"},[s("div",{staticClass:"mui-input-row coder-input"},[s("label",[e._v("订单号")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.orderCode,expression:"orderCode"}],attrs:{type:"text",readonly:"readonly"},domProps:{value:e.orderCode},on:{input:function(t){t.target.composing||(e.orderCode=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"mui-input-row coder-input"},[s("label",[e._v("订单金额")]),e._v(" "),s("div",{staticClass:"code-red"},[e._v("￥"+e._s(e._f("formatMoney")(e.totalPrice)))])]),e._v(" "),e.isShow?s("div",{staticClass:"mui-input-row coder-input",attrs:{id:"coupon_amount"}},[s("label",[e._v("优惠券抵扣")]),e._v(" "),s("div",{staticClass:"code-red"},[e._v("￥-"+e._s(e._f("formatMoney")(e.coupon_amount)))])]):e._e(),e._v(" "),e.isPointShow?s("div",{staticClass:"mui-input-row coder-input",attrs:{id:"pointAmount"}},[s("label",[e._v("积分抵扣")]),e._v(" "),s("div",{staticClass:"code-red"},[e._v("￥-"+e._s(e._f("formatMoney")(e.pointAmount)))])]):e._e(),e._v(" "),s("div",{staticClass:"mui-input-row coder-input"},[s("label",[e._v("应付金额")]),e._v(" "),s("div",{staticClass:"code-red"},[e._v("￥"+e._s(e._f("formatMoney")(e.fu_sum)))])]),e._v(" "),e.advance&&e.fu_sum<=e.advance?s("div",{staticClass:"mui-input-row coder-input on_off"},[s("label",[e._v("预付款")]),e._v(" "),s("div",{staticClass:"code-red",style:e.switchvalue?"color:#eb6000":"color:#aaa"},[e._v("￥"+e._s(e._f("formatMoney")(e.advance)))]),e._v(" "),s("mt-switch",{staticClass:"abvance_switch",on:{change:e.changSwitch},model:{value:e.switchvalue,callback:function(t){e.switchvalue=t},expression:"switchvalue"}})],1):e._e()])]),e._v(" "),s("div",{staticClass:"pay-ways",attrs:{id:"onlineWay"}},[e._m(1),e._v(" "),s("div",[s("ul",{staticClass:"mui-table-view"},[e.showWx?s("li",{staticClass:"mui-table-view-cell abvanceradio"},[s("div",{staticClass:"mui-navigate-right mui-radio"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],attrs:{type:"radio",name:"advance",value:"微信客户端支付"},domProps:{checked:e._q(e.checkedValue,"微信客户端支付")},on:{change:function(t){e.checkedValue="微信客户端支付"}}}),e._v(" "),s("img",{staticClass:"mui-media-object mui-pull-left",attrs:{src:a("iIj2")}}),e._v(" "),e._m(2)])])]):e._e(),e._v(" "),s("li",{staticClass:"mui-table-view-cell abvanceradio"},[s("div",{staticClass:"mui-navigate-right mui-radio"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],attrs:{type:"radio",name:"advance",value:"支付宝"},domProps:{checked:e._q(e.checkedValue,"支付宝")},on:{change:function(t){e.checkedValue="支付宝"}}}),e._v(" "),s("img",{staticClass:"mui-media-object mui-pull-left",attrs:{src:a("V+CS")}}),e._v(" "),e._m(3)])])]),e._v(" "),s("li",{staticClass:"mui-table-view-cell"},[s("div",{staticClass:"mui-navigate-right  abvanceradio"},[s("div",{staticClass:"mui-media-body mui-radio"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],attrs:{type:"radio",name:"advance",value:"微信"},domProps:{checked:e._q(e.checkedValue,"微信")},on:{change:function(t){e.checkedValue="微信"}}}),e._v(" "),s("img",{staticClass:"mui-media-object mui-pull-left",attrs:{src:a("PWGk")}}),e._v("\n                                    微信付款码\n                                    "),s("p",{staticClass:"mui-ellipsis"},[e._v("微信付款码支付")])])])])]),e._v(" "),this.$store.getters.logintoken?s("li",{staticClass:"mui-table-view-cell  abvanceradio",class:"Y"==e.credit_state?"":"background_e"},[s("div",{class:["Y"==e.credit_state?"mui-navigate-right":""]},[s("div",{staticClass:"mui-media-body mui-radio"},[s("label",{staticStyle:{"padding-right":"0"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],attrs:{type:"radio",name:"advance",value:"信用",disabled:!("Y"==e.credit_state&&e.credit_lines-e.used_lines>0)},domProps:{checked:e._q(e.checkedValue,"信用")},on:{change:function(t){e.checkedValue="信用"}}}),e._v(" "),s("img",{staticClass:"mui-media-object mui-pull-left",attrs:{src:a("Jfzh")}}),e._v("信用支付\n                                    "),"Y"==e.credit_state?s("p",{staticClass:"mui-ellipsis1"},[s("span",{staticClass:"title"},[e._v("信用额度")]),e._v(" "),s("span",{staticClass:"price"},[e._v(e._s(e._f("toFixed2")(e.credit_lines)))]),s("span",{staticClass:"title"},[e._v("可用")]),e._v(" "),s("span",{staticClass:"price"},[e._v(e._s(e._f("toFixed2")(e.credit_lines-e.used_lines)))])]):s("p",{staticClass:"mui-ellipsis1"},[s("span",{staticClass:"title"},[e._v("不可用")])])])])])]):e._e()])])]),e._v(" "),s("div",{staticClass:"pay-ways"},[e._m(4),e._v(" "),s("div",[s("ul",{staticClass:"mui-table-view"},[s("li",{staticClass:"mui-table-view-cell abvanceradio"},[s("div",{staticClass:"mui-navigate-right"},[s("div",{staticClass:"mui-media-body mui-radio"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],attrs:{type:"radio",name:"advance",value:"现金"},domProps:{checked:e._q(e.checkedValue,"现金")},on:{change:function(t){e.checkedValue="现金"}}}),e._v(" "),s("img",{staticClass:"mui-media-object mui-pull-left",attrs:{src:a("B9hn")}}),e._v("线下支付\n                                    "),s("p",{staticClass:"mui-ellipsis"},[e._v("现金或POS支付，请联系店内人员")])])])])])]),e._v(" "),s("div",{staticClass:"bank"},[s("h5",{staticClass:"input-title"},[e._v("收款银行账户")]),e._v(" "),s("div",{staticClass:"bankContent"},[s("div",{staticClass:"bankInline"},[e._v("收款名称:")]),e._v(" "),s("div",{staticClass:"bankInput"},[e._v(e._s(e.depositBankAccount))])]),e._v(" "),s("div",{staticClass:"bankContent"},[s("div",{staticClass:"bankInline"},[e._v("开户银行:")]),e._v(" "),s("div",{staticClass:"bankInput"},[e._v(e._s(e.depositBankBranch))])]),e._v(" "),s("div",{staticClass:"bankContent"},[s("div",{staticClass:"bankInline"},[e._v("银行账号:")]),e._v(" "),s("div",{staticClass:"bankInput"},[e._v(e._s(e.settleBankAccount))])])])])])]),e._v(" "),s("div",{staticClass:"bottom-btn"},[s("button",{staticClass:"def-btn",attrs:{type:"button"},on:{click:e.confirmBtn}},[e._v("确认支付"),e.flagadvance?s("span",[e._v("￥"+e._s(e._f("formatMoney")(e.advance_sun)))]):e._e()])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pay-title"},[t("h5",[this._v("订单信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pay-title"},[t("h5",[this._v("线上支付类型")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mui-media-body"},[this._v("\n                                    微信支付\n                                    "),t("p",{staticClass:"mui-ellipsis"},[this._v("微信安全支付")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mui-media-body"},[this._v("\n                                    支付宝付款码\n                                    "),t("p",{staticClass:"mui-ellipsis"},[this._v("支付宝付款码支付")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pay-title"},[t("h5",[this._v("线下结算")])])}]};var u=a("C7Lr")(r,d,!1,function(e){a("F60B")},"data-v-02f1af19",null);t.default=u.exports}});