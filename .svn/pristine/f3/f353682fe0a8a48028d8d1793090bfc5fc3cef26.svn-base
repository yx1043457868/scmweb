webpackJsonp([62],{JO8r:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i("mvHQ"),e=i.n(a),r=i("y7b9"),n=i("HPsP"),c=i("2nmU"),o=i("0xDb"),l={name:"Search",components:{cartcontrol:n.a,emptyBox:c.a,Tabbar:r.a},data:function(){return{isShow:!0,selected:"/",value:"",ProductS:[],tip:!1,historyList:localStorage.getItem("SimpleHistoryList")?JSON.parse(localStorage.getItem("SimpleHistoryList")):[]}},directives:{focus:{inserted:function(t){t.focus()}}},mounted:function(){var t=this;this.$nextTick(function(){t.$refs.input.focus()})},created:function(){},methods:{back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.back(-1)},addFood:function(t){this._drop(t)},_drop:function(t){var s=this;this.$nextTick(function(){s.$refs.shopcart.drop(t)})},keySearch:function(t){this.value=t,this.search()},clearHis:function(){this.historyList=[],localStorage.setItem("SimpleHistoryList",e()(this.historyList))},searchVal:function(t){""!=(t=t.trim())&&(this.historyList.length>0&&-1!==this.historyList.indexOf(t)?(this.historyList.splice(this.historyList.indexOf(t),1),this.historyList.unshift(t)):this.historyList.unshift(t),this.historyList.length>6&&this.historyList.pop(),localStorage.setItem("SimpleHistoryList",e()(this.historyList)))},search:function(){var t=Object(o.d)();this.$store.state.logindata&&this.$store.state.logindata.company.owner;this.value;this.searchVal(this.value),this.isShow=!1,this.$router.replace({path:"/applySimple",query:{goodName:this.value}})}}},u={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"header"},[i("header",{staticClass:"mint-header"},[i("div",{staticClass:"mint-header-button is-left",on:{click:t.back}},[t._m(0)]),t._v(" "),i("div",{staticClass:"mint-search"},[i("form",{attrs:{action:"",target:"frameFile"}},[i("div",{staticClass:"mint-searchbar"},[i("div",{staticClass:"mint-searchbar-inner"},[i("i",{staticClass:"mintui mintui-search"}),t._v(" "),i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",staticClass:"mint-searchbar-core",attrs:{type:"search",placeholder:"输入食材名称/编码/拼音搜索",autofocus:"autofocus"},domProps:{value:t.value},on:{keyup:function(s){return"button"in s||!t._k(s.keyCode,"enter",13,s.key,"Enter")?t.search(s):null},input:function(s){s.target.composing||(t.value=s.target.value)}}})]),t._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:""!=t.value,expression:"value !=''"}],staticClass:"mint-searchbar-cancel",on:{click:t.search}},[t._v("搜索")])])]),t._v(" "),i("iframe",{staticStyle:{display:"none"},attrs:{name:"frameFile"}})])])]),t._v(" "),i("div",{staticClass:"my-content"},[t.isShow?i("div",{staticClass:"search-key"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"mui-pull-left"},[t._v("历史搜索记录")]),t._v(" "),i("span",{staticClass:"mui-pull-right clearHis",on:{click:t.clearHis}},[t._v("清空历史")])]),t._v(" "),i("ul",{staticClass:"key-box"},t._l(t.historyList,function(s,a){return i("li",{key:a,staticClass:"search-item",on:{click:function(i){t.keySearch(s)}}},[i("span",[t._v(t._s(s))])])}),0)]):t._e(),t._v(" "),i("div",{staticClass:"order-wrapper"},[i("ul",{staticClass:"productList clearfix"},t._l(t.ProductS,function(s,a){return i("li",{key:a,attrs:{sku_code:s.sku_code,class_id:s.class_id}},[i("div",{staticClass:"list-img"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.baseurl+s.imgPath,expression:"baseurl+item.imgPath"}],attrs:{alt:"推荐购买"}})]),t._v(" "),i("div",{staticClass:"goods-info"},[i("h4",{staticClass:"list-name mui-ellipsis"},[t._v(t._s(s.skuName))]),t._v(" "),i("p",{staticClass:"list-size mui-ellipsis"},[t._v("规格："+t._s(s.styleno))]),t._v(" "),i("p",{staticClass:"list-size mui-ellipsis",staticStyle:{height:"21px"}},[t._v(t._s(s.giftDesc))]),t._v(" "),i("em",{staticClass:"list-price"},[i("span",[t._v("￥")]),t._v(t._s(s.price)+"\n                            "),i("span",{staticClass:"unit"},[t._v("/"+t._s(s.uomDefault))])]),t._v(" "),0!=s.surplusNum?i("div",{staticClass:"cartcontrol-wrapper"},[i("sampleList",{attrs:{food:s},on:{addCartx:t.addFood}})],1):t._e(),t._v(" "),0==s.surplusNum?i("div",{staticClass:"cartcontrol-wrapper"},[i("span",{staticClass:"hadTake"},[t._v("已领完")])]):t._e()])])}),0)])]),t._v(" "),i("emptyBox",{directives:[{name:"show",rawName:"v-show",value:t.tip,expression:"tip"}],attrs:{tiptext:"亲,暂无相关数据哦~"}}),t._v(" "),i("Tabbar",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"shopcart",attrs:{selected:t.selected}})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"mint-button mint-button--default mint-button--normal"},[s("span",{staticClass:"mint-button-icon"},[s("i",{staticClass:"mintui mintui-back"})]),this._v(" "),s("label",{staticClass:"mint-button-text"})])}]};var h=i("VU/8")(l,u,!1,function(t){i("iWOr")},"data-v-000032a8",null);s.default=h.exports},iWOr:function(t,s){}});