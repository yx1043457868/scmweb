webpackJsonp([9],{"4Bx4":function(t,e,s){"use strict";s("34+y");var o=s("X+yh"),i=s.n(o),a=s("mvHQ"),c=s.n(a),n=(s("qONS"),s("UQTY")),r=s.n(n),l=s("GQaK"),d=s("0xDb"),p={name:"cardsWrapper",props:{totalPrice:{type:Number,default:function(){return 0}},orders:{type:Array,default:function(){return 0}},cardShow:{type:Boolean}},data:function(){return{couponInfo:{couponValue:0,minMoney:0,ID:[]},priceSpread:0,couponListY:[],couponListN:[],Y:!0,N:!1,checkedObj:[],checked:[],totalCount:"",choices:[],isActive:"0",activeClass:"active",errorClass:"disable",couponSend:""}},mounted:function(){},watch:{cardShow:function(t){var e=this;t&&this.$nextTick(function(){e._initScroll()})},checked:function(){var t=this;this.couponInfo.couponValue=0,this.couponInfo.minMoney=0,this.couponInfo.ID=this.checked&&this.checked.map(function(e,s){return t.couponInfo.couponValue=Object(d.j)(t.couponInfo.couponValue,e.couponValue),t.couponInfo.minMoney=Object(d.j)(t.couponInfo.minMoney,e.minMoney),e.ID}),this.$emit("initCount",this.totalCount,this.couponInfo)}},created:function(){this.getCouponForOrderApp()},methods:{changChecked:function(t,e){this.couponListY[t].flag=!this.couponListY[t].flag},chosen:function(t,e){this.isActive=t,"Y"==e?(this.Y=!0,this.N=!1):(this.Y=!1,this.N=!0)},CompareDate:function(t,e){var s=new Date;t=t.replace(new RegExp(/-/gm),"/"),e=e.replace(new RegExp(/-/gm),"/");var o=new Date(Date.parse(t)),i=new Date(Date.parse(e));return s>=o&&s<=i},cardConfirm:function(){var t=this;this.$nextTick(function(){var e=t.totalPrice,s=t.couponInfo&&t.couponInfo.minMoney?t.couponInfo.minMoney:"0";t.priceSpread=Object(d.n)(parseFloat(s),parseFloat(e))}),this.hideDialog()},hideDialog:function(){this.$emit("hide")},_initScroll:function(){this.cardScroll=new l.a(this.$refs.cardsWrapper,{click:!0})},getTClasses:function(){for(var t=[],e=this.orders,s=e.length,o=0;o<s;o++){var i=e[o].preunitPrice||e[o].unit_price||e[o].unitPrice||0,a=e[o].prePrice||e[o].price||0,c=Object(d.j)(Object(d.l)(parseFloat(i),e[o].value||0),Object(d.l)(parseFloat(a),e[o].mnum_value||0)),n={classId:e[o].couponLabelId?e[o].couponLabelId:e[o].class_id?e[o].class_id:e[o].classId,price:c};t.push(n)}return t},repeatArr:function(t,e){if(t.length<2)return t;var s=[];return t.forEach(function(t){var o=s.findIndex(function(s){return t[e]===s[e]});-1!==o?s[o].price=s[o].price+t.price:s.push(t)}),s},getCouponForOrderApp:function(){var t=this,e=this.$store.getters.account.account;r.a.open({text:"loading...",spinnerType:"fading-circle"});var s=this.repeatArr(this.getTClasses(),"classId"),o='{"skus":'+c()(s)+',"account":"'+e+'"}';this.$post("/appCounpon/getCouponForOrderAppNew.do",{content:o,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(e){var s=JSON.parse(e);"yes"==s.optFlag?(t.choices=s.res.couponStatusCount,t.totalCount=s.res.couponStatusCount[0].totalCount?s.res.couponStatusCount[0].totalCount:0,t.$emit("initCount",t.totalCount,t.couponInfo),t.couponListY=s.res.canUseCouponList,t.getMaxValueCouponApp(s.res.canUseCouponList,t.totalPrice),t.couponListN=s.res.canNotUseCouponList,setTimeout(function(){r.a.close()},22500)):(i()({message:"获取失败",duration:1e3}),setTimeout(function(){r.a.close()},33500))})},getMaxValueCouponApp:function(t,e){var s=this;t&&t.map(function(t,o){var i=Object(d.j)(s.couponInfo.minMoney,t.minMoney),a=s.CompareDate(t.beginTime,t.endTime);i<=e&&1==a&&(s.checked.push(t),s.couponListY[o].flag=!s.couponListY[o].flag,s.couponInfo.couponValue=Object(d.j)(s.couponInfo.couponValue,t.couponValue),s.couponInfo.minMoney=Object(d.j)(s.couponInfo.minMoney,t.minMoney),s.couponInfo.ID.push(t.ID))})}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide","enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[s("div",{staticClass:"dialog-wrapper card-dialog"},[s("div",{staticClass:"dialog-box"},[s("div",{staticClass:"dialog-header"},[t._v("优惠券"),s("em",{staticClass:"tip-text"},[t._v("(*最多可使用200张)")]),t._v(" "),s("span",{staticClass:"close-dialog",on:{click:function(e){return e.stopPropagation(),t.hideDialog(e)}}},[t._v("×")])]),t._v(" "),s("div",{staticClass:"nav"},t._l(t.choices,function(e,o){return s("p",{key:o,class:{active:o==t.isActive},attrs:{value:e.state},on:{click:function(s){t.chosen(o,e.state)}}},[t._v(t._s(e.couponStatus)+"("+t._s(e.totalCount)+")\n                ")])}),0),t._v(" "),s("div",{ref:"cardsWrapper",staticClass:"card-wrapper"},[s("div",[s("ul",{directives:[{name:"show",rawName:"v-show",value:t.Y,expression:"Y"}],staticClass:"mui-table-view"},t._l(t.couponListY,function(e,o){return s("li",{key:o,staticClass:"mui-table-view-cell card-list"},[s("div",{staticClass:"icon-card",class:[e.minMoney<=t.totalPrice&&1==t.CompareDate(e.beginTime,e.endTime)?t.activeClass:t.errorClass]},[s("strong",[s("span",[t._v("￥")]),t._v(t._s(e.couponValue))]),t._v(" "),s("p",[t._v("满"+t._s(e.minMoney)+"元可用")])]),t._v(" "),s("div",{staticClass:"card-info mui-checkbox"},[s("h4",{staticClass:"card-name"},[t._v(t._s(e.couponName))]),t._v(" "),s("p",{staticClass:"card-time"},[t._v(t._s(t._f("format")(e.beginTime))+"~"+t._s(t._f("format")(e.endTime)))]),t._v(" "),1*t.couponInfo.minMoney+1*e.minMoney<=t.totalPrice&&1==t.CompareDate(e.beginTime,e.endTime)||e.flag?s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{name:"checkbox1",type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.checked)?t._i(t.checked,e)>-1:t.checked},on:{change:[function(s){var o=t.checked,i=s.target,a=!!i.checked;if(Array.isArray(o)){var c=e,n=t._i(o,c);i.checked?n<0&&(t.checked=o.concat([c])):n>-1&&(t.checked=o.slice(0,n).concat(o.slice(n+1)))}else t.checked=a},function(s){t.changChecked(o,e.ID)}]}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{name:"checkbox1",type:"checkbox",disabled:"disabled"},domProps:{value:e,checked:Array.isArray(t.checked)?t._i(t.checked,e)>-1:t.checked},on:{change:function(s){var o=t.checked,i=s.target,a=!!i.checked;if(Array.isArray(o)){var c=e,n=t._i(o,c);i.checked?n<0&&(t.checked=o.concat([c])):n>-1&&(t.checked=o.slice(0,n).concat(o.slice(n+1)))}else t.checked=a}}})])])}),0),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.N,expression:"N"}],staticClass:"mui-table-view"},t._l(t.couponListN,function(e,o){return s("li",{key:o,staticClass:"mui-table-view-cell card-list"},[s("div",{staticClass:"icon-card disable"},[s("strong",[s("span",[t._v("￥")]),t._v(t._s(e.couponValue))]),t._v(" "),s("p",[t._v("满"+t._s(e.minMoney)+"元可用")])]),t._v(" "),s("div",{staticClass:"card-info mui-checkbox"},[s("h4",{staticClass:"card-name"},[t._v(t._s(e.couponName))]),t._v(" "),s("p",{staticClass:"card-time"},[t._v(t._s(t._f("format")(e.beginTime))+"~"+t._s(t._f("format")(e.endTime)))])])])}),0)])]),t._v(" "),s("div",{staticClass:"confirm_b"},[s("button",{staticClass:"sure_btn",on:{click:t.cardConfirm}},[t._v("确定")])])])])])},staticRenderFns:[]};var h=s("VU/8")(p,u,!1,function(t){s("k6/9")},"data-v-20056fc7",null);e.a=h.exports},hPlb:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("OgVB");var o=s("/Lyv"),i=s.n(o),a=(s("34+y"),s("X+yh")),c=s.n(a),n=s("bOdI"),r=s.n(n),l=s("teIl"),d=s("Jovq"),p=s("4Bx4"),u=s("0xDb"),h={name:"confirmPreOrder",components:{Header:l.a,LogisticsItem:d.a,cardsDialog:p.a},data:function(){var t;return t={accountPhone:this.$store.getters.company.contactPhone?this.$store.getters.company.contactPhone:"",accountRealName:this.$store.getters.company.contactName?this.$store.getters.company.contactName:"",shopInfo:{},shopPickAdd:{},shopPickName:this.$store.getters.account.account,changShopAddFlag:!1,node:"",selectAddressList:"",orderCode:"",picked:"logistics",cardShow:!1,payWayShow:!1},r()(t,"picked","logistics"),r()(t,"payWays","online"),r()(t,"payWayTitle","先款后货"),r()(t,"couponInfo",{couponValue:0,minMoney:0,ID:[]}),r()(t,"totalCount",""),r()(t,"tipText",""),r()(t,"tipHandle",""),r()(t,"couponSend",""),r()(t,"sendType","1"),t},created:function(){this.initAddress(),this.changeAdsByCookie(),this.checkPaymentMethod(),this.checkHasCouponSend(),0==this.orders.length&&this.$router.push({path:"/preorderList"})},computed:{orders:function(){return this.$store.state.preorder},totalPrice:function(){return this.$store.state.preorder.reduce(function(t,e,s){return e.checked?t+(e.preunitPrice||0)*(e.value||0):t},0)},totalEarnest:function(){var t=0;return this.orders.map(function(e){t+=parseFloat(Object(u.k)(Object(u.l)(Object(u.l)(e.preunitPrice||0,e.value||0),e.preScale||0),100))}),Object(u.o)(t)},totalBalance:function(){return Object(u.o)(Object(u.n)(Object(u.n)(this.totalPrice,this.totalEarnest),this.couponInfo.couponValue))}},filters:{toFixed:function(t){return"￥"+parseFloat(t).toFixed(2)},formatEarnest:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(u.o)(Object(u.k)(Object(u.l)(Object(u.l)(e,s),t),100))},formatPrePrice:function(t){return Object(u.o)(Object(u.k)(t,100))}},methods:{initCount:function(t,e){this.totalCount=t,this.couponInfo=e},blurWatch:function(){window.scroll(0,0)},back:function(){this.$router.back(-1)},openPicker:function(){this.$refs.picker.open()},handleConfirm:function(t){this.exceptedTime=Object(u.b)(t,1)},changeAdsByCookie:function(){var t=this.$store.state.address;this.selectAddressList=null==t||""==t?"":t},initAddress:function(){var t=this,e=this.$store.getters.account,s="{'shopId':'"+e.shopId+"','companyId':'"+e.companyId+"'}";this.$post("/appShippingAddress/appVpShopAddress.do",{content:s,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(e){var s=JSON.parse(e);"yes"==s.optFlag?s.shop?(t.shopInfo=s.shop,t.shopPickAdd=s.VpShopAddress,t.isDisable=!1):(t.shopPickAdd=s.VpShopAddress,t.isDisable=!1):t.isDisable=!0})},selectAddress:function(){this.$router.push({path:"/selectAddress"})},editShopPickAdd:function(){this.changShopAddFlag=!0},changShopAddConfig:function(){return""==this.shopPickAdd.address?(c()("自提地址不能为空"),!1):""==this.shopPickName?(c()("自提联系人不能为空"),!1):void(this.changShopAddFlag=!1)},checkPaymentMethod:function(){var t=this,e='{"shopId":"'+this.$store.getters.account.shopId+'"}';this.$post("/appVpOrder/checkPaymentMethod.do",{content:e,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(e){var s=JSON.parse(e);"yes"==s.optFlag?(t.tipText=s.optDesc,t.tipHandle="yes"):(t.tipText=s.optDesc,t.tipHandle="no")})},checkHasCouponSend:function(){var t=this,e=this.$store.getters.account.companyId,s='{"account":"'+this.$store.getters.account.account+'","companyId":"'+e+'"}';this.$post("/appCounpon/checkHasCouponSend.do",{content:s,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(e){var s=JSON.parse(e);"yes"==s.optFlag&&(t.couponSend=s.res)})},shoppingCart:function(){},submitOrder:function(){var t=this,e=this;if(e.isDisable=!0,"logistics"==this.picked){if(e.selectAddressList){if(Object(u.f)(e.selectAddressList.shopTact)||Object(u.f)(e.selectAddressList.shopTel)||Object(u.f)(e.selectAddressList.address))return i()("提示","请编辑完整的收货地址"),!1}else if(Object(u.f)(e.shopInfo)||Object(u.f)(e.shopInfo.address)||Object(u.f)(e.shopInfo.shopTact)||Object(u.f)(e.shopInfo.shopTel))return i()("提示","请编辑完整的收货地址"),!1}else if(Object(u.f)(e.shopPickAdd)||Object(u.f)(e.shopPickAdd.address)||Object(u.f)(e.shopPickName))return i()("提示","请编辑完整的门店自提地址"),!1;var s=this.$store.getters.account,o=this.$store.getters.company,a=this.$store.getters.shop,c=s.companyId,n=o.owner,r=a.wm_code?a.wm_code:a.wmCode,l=a.id,d=s.account;s.account;if(e.totalCount&&e.couponInfo.ID.length>0)var p=e.couponInfo.couponValue,h=e.couponInfo.ID.join(",");else p="",h="";if("logistics"==e.picked)if(e.sendType="1",e.selectAddressList)var v=e.selectAddressList.shopTact||"",m=e.selectAddressList.shopTel||"",f=e.selectAddressList.province_id||"",_=e.selectAddressList.city_id||"",g=e.selectAddressList.province||"",C=e.selectAddressList.city||"",k=e.selectAddressList.address||"";else v=e.shopInfo.shopTact||"",m=e.shopInfo.shopTel||"",f=e.shopInfo.province_id||"",_=e.shopInfo.city_id||"",g=e.shopInfo.province||"",C=e.shopInfo.city||"",k=e.shopInfo.address||"";else{e.sendType="4";v=e.shopPickName,m="",f="",_="",g="",C="",k=e.shopPickAdd.address}var b=new Array;e.orders.forEach(function(t,e){var s=[];t.wm_code||a.wmCode;s.push("'qty':'"+t.value+"'"),s.push("'skuCode':'"+t.skuCode+"'"),s.push("'price':'"+t.preunitPrice+"'"),s.push("'cycleId':'"+t.cycleId+"'"),s.push("'cycleCode':'"+t.cycleCode+"'"),b.push("{"+s.join(",")+"}")});var y="{'companyId': '"+c+"','owner': '"+n+"','wmCode': '"+r+"','shopId': '"+l+"','account': '"+d+"','receiveName': '"+v+"','receivePhone': '"+m+"','province': '"+f+"','city': '"+_+"','provinceCn': '"+g+"','cityCn': '"+C+"','receiveAddress': '"+k+"','skus': ["+b.join(",")+"],'sendType': '"+e.sendType+"','note': '"+e.node+"','delaypayFlag': 'N','couponAmount': '"+p+"','couponId': '"+h+"','sumAmount': '"+e.totalPrice+"','preAmount': '"+e.totalEarnest+"','tailAmount': '"+e.totalBalance+"'}";this.$post("/appPreOrder/submitPreOrder.do",{content:y,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(s){var o=JSON.parse(s);if("yes"==o.optFlag){var a=o.res.orderCode;e.orderCode=a,e.$store.commit("clearPreOrder"),t.$router.push({path:"/prePay",query:{orderCode:a,type:"preorder"}})}else e.isDisable=!1,i()("提示",o.optDesc)})}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Header",{attrs:{title:"确认预购订单"}}),t._v(" "),s("div",{staticClass:"my-content order-detail"},[s("LogisticsItem"),t._v(" "),s("ul",{staticClass:"mui-table-view"},[s("li",{staticClass:"mui-table-view-cell confirm-list mui-row"},[s("label",{staticClass:"mui-col-xs-3"},[t._v("取货方式")]),t._v(" "),s("div",{staticClass:"mui-radio mui-left select-logistics mui-col-xs-4"},[s("label",[t._v("门店配送")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{name:"select-radio",type:"radio",value:"logistics"},domProps:{checked:t._q(t.picked,"logistics")},on:{change:function(e){t.picked="logistics"}}})]),t._v(" "),s("div",{staticClass:"mui-radio mui-left select-logistics mui-col-xs-4"},[s("label",[t._v("门店自提")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{name:"select-radio",type:"radio",value:"shopPick"},domProps:{checked:t._q(t.picked,"shopPick")},on:{change:function(e){t.picked="shopPick"}}})])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"logistics"==t.picked,expression:"picked == 'logistics'"}],staticClass:"address-wrapper"},[""!=t.selectAddressList?s("div",{staticClass:"address-info",staticStyle:{"margin-bottom":"10px"},on:{click:t.selectAddress}},[s("i",{staticClass:"iconfont add-icon"},[t._v("")]),t._v(" "),s("div",{staticClass:"add-contact"},[s("h5",{staticClass:"clearfix"},[s("span",{staticClass:"contact-name"},[t._v(t._s(t.selectAddressList&&t.selectAddressList.shopTact?t.selectAddressList.shopTact:"暂无"))]),t._v(" "),s("span",{staticClass:"contact-tel"},[t._v(t._s(t.selectAddressList.shopTel?t.selectAddressList.shopTel:"暂无"))])]),t._v(" "),t.selectAddressList.province==t.selectAddressList.city?s("p",{staticClass:"address"},[t._v("收货地址："+t._s(t.selectAddressList.province)+t._s(t.selectAddressList.address))]):s("p",{staticClass:"address"},[t._v("收货地址："+t._s(t.selectAddressList.province)+t._s(t.selectAddressList.city)+t._s(t.selectAddressList.address))])]),t._v(" "),t._m(0)]):s("div",{staticClass:"address-info",staticStyle:{"margin-bottom":"10px"},on:{click:t.selectAddress}},[s("i",{staticClass:"iconfont add-icon"},[t._v("")]),t._v(" "),t.shopInfo.shopTact&&t.shopInfo.shopTel?s("div",{staticClass:"add-contact"},[s("h5",{staticClass:"clearfix"},[s("span",{staticClass:"contact-name"},[t._v(t._s(t.shopInfo.shopTact))]),t._v(" "),s("span",{staticClass:"contact-tel"},[t._v(t._s(t.shopInfo.shopTel))])]),t._v(" "),t.shopInfo.province==t.shopInfo.city?s("p",{staticClass:"address"},[t._v("收货地址："+t._s(t.shopInfo.province)+t._s(t.shopInfo.address))]):s("p",{staticClass:"address"},[t._v("收货地址："+t._s(t.shopInfo.province)+t._s(t.shopInfo.city)+t._s(t.shopInfo.address))])]):s("div",{staticClass:"add-contact",staticStyle:{height:"36px"}},[t._v("\n                    请编辑收货地址\n                ")]),t._v(" "),t._m(1)])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"shopPick"==t.picked,expression:"picked == 'shopPick'"}],staticClass:"address-wrapper"},[s("div",{staticClass:"address-info",staticStyle:{"margin-bottom":"10px"}},[s("i",{staticClass:"iconfont add-icon"},[t._v("")]),t._v(" "),s("div",{staticClass:"add-contact"},[s("h5",{staticClass:"clearfix"},[s("span",{staticClass:"contact-name"},[t._v(t._s(t.accountRealName))]),t._v(" "),s("span",{staticClass:"contact-tel"},[t._v(t._s(t.accountPhone))])]),t._v(" "),s("p",{staticClass:"address"},[t._v("自提地址："+t._s(t.shopPickAdd.address))])]),t._v(" "),s("div",{staticClass:"address-r"},[s("router-link",{staticClass:"iconfont you",attrs:{to:{path:"/mapShow",query:{ad:t.shopPickAdd.address}}}},[t._v("")])],1)])]),t._v(" "),s("ul",{staticClass:"mui-table-view goods-list"},t._l(t.orders,function(e,o){return s("li",{key:o,staticClass:"mui-table-view-cell"},[s("div",{staticClass:"food-link"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.baseurl+e.imgPath,expression:"baseurl+food.imgPath"}]}),t._v(" "),s("div",{staticClass:"recommend"},[s("h4",{staticClass:"skuName"},[t._v("\n                            "+t._s(e.skuName))]),t._v(" "),s("p",{staticClass:"styleno"},[t._v("规格："+t._s(e.styleno))]),t._v(" "),s("p",{staticClass:"tip"},[t._v("预付定金 "),s("em",[t._v("¥"+t._s(t._f("formatEarnest")(e.preScale,e.preunitPrice||0,e.value)))]),t._v(" "),s("span",{staticStyle:{"margin-left":"8px"}},[t._v("预付"),s("em",[t._v(t._s(e.preScale)+"%")])])]),t._v(" "),s("span",{staticClass:"store"},[t._v("请货量："+t._s(e.value)+t._s(e.unit))]),t._v(" "),s("span",{staticClass:"price"},[t._v("￥"+t._s(e.preunitPrice||0)+"/"+t._s(e.unit))])])])])}),0),t._v(" "),s("div",{staticClass:"form-wrapper mt-10"},[s("mt-field",{staticClass:"my-cell",attrs:{label:"买家留言",placeholder:"选填，给商家留言（50字以内）"},model:{value:t.node,callback:function(e){t.node=e},expression:"node"}}),t._v(" "),s("div",{staticClass:"mint-cell",on:{click:function(e){t.cardShow=!0}}},[s("div",{staticClass:"mint-cell-left"}),t._v(" "),s("div",{staticClass:"mint-cell-wrapper"},[s("div",{staticClass:"mint-cell-title"},[t._v("优惠券抵扣")]),t._v(" "),s("div",{staticClass:"mint-cell-value is-link"},[0==t.totalCount?s("span",[t._v("不可用")]):t.totalCount&&t.couponInfo&&t.couponInfo.ID.length>0?s("span",[t._v("优惠"),s("span",{staticClass:"price"},[t._v(t._s(t.couponInfo.couponValue))]),t._v("元")]):t.totalCount>0&&t.couponInfo&&0==t.couponInfo.ID.length?s("span",[t._v(t._s(t.totalCount)+"张可用")]):t._e()]),t._v(" "),s("i",{staticClass:"mint-cell-allow-right"})])])],1),t._v(" "),s("div",{staticClass:"form-wrapper mt-10"},[s("mt-cell",{attrs:{title:"商品总额"}},[s("span",{staticStyle:{color:"#ff671d"}},[t._v(t._s(t._f("toFixed")(t.totalPrice)))])]),t._v(" "),t.totalCount&&t.couponInfo.ID.length>0?s("mt-cell",{attrs:{title:"优惠券抵扣"}},[s("span",{staticStyle:{color:"#eb6000"}},[t._v("-"+t._s(t._f("toFixed")(t.couponInfo.couponValue)))])]):t._e(),t._v(" "),s("mt-cell",{attrs:{title:"预付定金"}},[s("span",{staticStyle:{color:"#ff671d"}},[t._v("￥"+t._s(t.totalEarnest))])]),t._v(" "),s("mt-cell",{attrs:{title:"尾款总额"}},[s("span",{staticStyle:{color:"#ff671d"}},[t._v("￥"+t._s(t.totalBalance))])])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.cardShow,expression:"cardShow"}],staticClass:"dialogMask",on:{click:function(e){t.cardShow=!1}}}),t._v(" "),s("cardsDialog",{directives:[{name:"show",rawName:"v-show",value:t.cardShow,expression:"cardShow"}],attrs:{totalPrice:t.totalPrice,orders:t.orders,cardShow:t.cardShow},on:{hide:function(e){t.cardShow=!1},initCount:t.initCount}}),t._v(" "),s("div",{staticClass:"shop-toolbar mui-input-row mui-checkbox mui-left",staticStyle:{"padding-left":"10px",bottom:"0"}},[s("label",{staticStyle:{"padding-left":"0"}},[s("span",{staticClass:"total",staticStyle:{"margin-left":"0"}},[s("em",[t._v("合计预付定金 ")]),t._v(" "),s("span",{staticClass:"tip-text"},[t._v("￥"+t._s(t.totalEarnest))])])]),t._v(" "),s("button",{staticClass:"mui-btn",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.submitOrder(e)}}},[t._v("确认订单")])]),t._v(" "),t.changShopAddFlag?s("div",{staticClass:"mint-msgbox-wrapper",staticStyle:{position:"fixed","z-index":"999",top:"0",left:"0",bottom:"0",right:"0",margin:"auto","background-color":"rgba(100,100,100,0.5)"}},[s("div",{staticClass:"mint-msgbox"},[t._m(2),t._v(" "),s("div",{staticClass:"mint-msgbox-content"},[s("div",{staticClass:"mint-msgbox-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.shopPickName,expression:"shopPickName"}],attrs:{type:"text",placeholder:"请输入修改的门店自提联系人"},domProps:{value:t.shopPickName},on:{blur:t.blurWatch,input:function(e){e.target.composing||(t.shopPickName=e.target.value)}}}),t._v(" "),s("div",{staticClass:"mint-msgbox-errormsg",staticStyle:{visibility:"hidden"}})]),t._v(" "),s("div",{staticClass:"mint-msgbox-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.shopPickAdd.address,expression:"shopPickAdd.address"}],attrs:{type:"text",placeholder:"请输入修改的门店自提地址"},domProps:{value:t.shopPickAdd.address},on:{blur:t.blurWatch,input:function(e){e.target.composing||t.$set(t.shopPickAdd,"address",e.target.value)}}}),t._v(" "),s("div",{staticClass:"mint-msgbox-errormsg",staticStyle:{visibility:"hidden"}})])]),t._v(" "),s("div",{staticClass:"mint-msgbox-btns"},[s("button",{staticClass:"mint-msgbox-btn mint-msgbox-cancel ",on:{click:function(e){e.stopPropagation(),t.changShopAddFlag=!1}}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"mint-msgbox-btn mint-msgbox-confirm ",on:{click:function(e){return e.stopPropagation(),t.changShopAddConfig(e)}}},[t._v("确定")])])])]):t._e()],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"address-r"},[e("i",{staticClass:"iconfont you"},[this._v("")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"address-r"},[e("i",{staticClass:"iconfont you"},[this._v("")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-msgbox-header"},[e("div",{staticClass:"mint-msgbox-title"},[this._v("提示")])])}]};var m=s("VU/8")(h,v,!1,function(t){s("lixJ")},"data-v-17bc0323",null);e.default=m.exports},"k6/9":function(t,e){},lixJ:function(t,e){}});