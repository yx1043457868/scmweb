webpackJsonp([57],{QlWu:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});n("34+y");var e=n("X+yh"),s=n.n(e),a=n("NC6I"),o=n.n(a),c=n("0xDb"),r={name:"Login",components:{},data:function(){return{account:"",pwd:""}},created:function(){this.$store.getters.logintoken&&this.$router.push({path:"/"})},methods:{back:function(){this.$router.push({path:"/"})},CalcuMD5:function(t){return t=o()(t)},register:function(){var t=Object(c.d)();this.$router.push({path:"register",query:{pcid:t}})},codelogin:function(){this.$router.push({path:"codeLogin",query:{pcid:0}})},wxLogin:function(){var t=this.appid,i="";i="m.lzl98.com"===location.hostname?"http://m.lzl98.com/bindingWx":(location.hostname,"http://mt1.lzl98.com/bindingWx"),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t+"&redirect_uri="+i+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect"},login:function(){var t=this;if(""==this.account)return s()({message:"请输入您的账号",duration:1e3}),!1;if(""==this.pwd)return s()({message:"请输入您的密码",duration:1e3}),!1;var i="Android",n=this.CalcuMD5(this.CalcuMD5(this.pwd));i=navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Linux")>-1?"android":"iPhone";var e="{'account':'"+this.account+"','pwd':'"+n+"','deviceOS':'H5'}";this.$post("/appAccount/login.do",{content:e,version:"kkllo",deviceOS:i,login_token:this.$store.getters.logintoken}).then(function(i){var n=JSON.parse(i);if("yes"==n.optFlag){t.$store.commit("setData",n.res);var e=n.res.company,a=n.res.account;n.res.shop;t.$store.commit("setpcid",parseFloat(e.id));var o=a.id?a.id:"",c=t.$route.query.redirect;if("1"!=a.role)return s()("您不是注册客户"),t.$store.commit("loginOut"),!1;n.res.isFirstLogin?t.$router.push({path:"/accountEdit",query:{firstFlag:1}}):c?t.$router.replace(c):window.location.href=location.origin+"/?pcid="+e.id+"&shareId="+o}else s()(n.optDesc)})}}},l={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"login"},[n("header",{staticClass:"mint-header"},[n("div",{staticClass:"mint-header-button is-left",on:{click:t.back}},[t._m(0)])]),t._v(" "),n("div",{staticClass:"login-box"},[t._m(1),t._v(" "),n("div",{staticClass:"login-group"},[n("form",{attrs:{action:"",autocomplete:"on"}},[n("div",{staticClass:"input-item"},[t._m(2),t._v(" "),n("span",{staticClass:"pie"},[t._v("|")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入您的账号/手机号",autocomplete:"on"},domProps:{value:t.account},on:{input:function(i){i.target.composing||(t.account=i.target.value)}}})]),t._v(" "),n("div",{staticClass:"input-item"},[t._m(3),t._v(" "),n("span",{staticClass:"pie"},[t._v("|")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"请输入登录密码",autocomplete:"on"},domProps:{value:t.pwd},on:{input:function(i){i.target.composing||(t.pwd=i.target.value)}}})]),t._v(" "),n("button",{staticClass:"login-btn",attrs:{type:"button",size:"large"},on:{click:t.login}},[t._v("\n                    登录\n                ")])]),t._v(" "),n("div",{staticClass:"link-box"},[n("a",{staticClass:"link",attrs:{href:"javascript:;"},on:{click:t.register}},[t._v("账号注册")]),t._v(" "),n("span",{staticClass:"pie"},[t._v("|")]),t._v(" "),n("router-link",{staticClass:"link",attrs:{to:"/findPwd"}},[t._v("忘记密码")])],1),t._v(" "),n("div",{staticClass:"login-bg"})])]),t._v(" "),n("div",{staticClass:"other_acount"},[n("div",{staticClass:"title"},[t._v("\n            ----------  其他登录方式  ----------\n        ")]),t._v(" "),n("div",{staticClass:"weixin_box"},[n("div",{staticClass:"out_box",on:{click:t.codelogin}},[n("span",{staticClass:"icon iconfont weixin_icon1"},[t._v("")]),t._v(" "),n("span",[t._v("验证码登录")])]),t._v(" "),n("div",{staticClass:"right_weixin",on:{click:t.wxLogin}},[n("span",{staticClass:"icon iconfont weixin_icon2"},[t._v("")]),t._v(" "),n("span",[t._v("微信登录")])])])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("button",{staticClass:"mint-button mint-button--default mint-button--normal"},[i("span",{staticClass:"mint-button-icon"},[i("i",{staticClass:"mintui mintui-back"})]),this._v(" "),i("label",{staticClass:"mint-button-text"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"login-logo"},[i("img",{attrs:{src:n("7Otq"),alt:""}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("label",{attrs:{for:""}},[i("i",{staticClass:"icon iconfont"},[this._v("")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("label",{attrs:{for:""}},[i("i",{staticClass:"icon iconfont"},[this._v("")])])}]};var u=n("VU/8")(r,l,!1,function(t){n("x64E")},"data-v-12fa053b",null);i.default=u.exports},x64E:function(t,i){}});