webpackJsonp([55],{BABd:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});i("34+y");var n=i("X+yh"),e=i.n(n),o=i("p0f0"),a=(i("0xDb"),i("06cO")),l={name:"vpOrderList",components:{MescrollVue:o.a,searchPage:a.a},data:function(){return{mescroll:null,mescrollDown:{},mescrollUp:{callback:this.upCallback,page:{num:0,size:10},isBounce:!0,htmlNodata:'<p class="upwarp-nodata">-- 没有更多了 --</p>',noMoreSize:5,empty:{warpId:"mescroll",icon:"static/images/none.png",tip:"暂无相关数据~"}},pointsList:[],obj:{}}},methods:{back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.back(-1)},mescrollInit:function(t){this.mescroll=t},upCallback:function(t,s){var i=this;setTimeout(function(){var n='{"shopId":"'+i.$store.getters.account.shopId+'","pageSize": "'+t.size+'","pageNo": "'+t.num+'"}';i.$post("/points/pointsDetailList.do",{content:n,version:"kkllo",login_token:i.$store.getters.logintoken}).then(function(n){var o=JSON.parse(n);if("yes"==o.optFlag)if(i.obj.totalPoints=o.res.totalPoints?o.res.totalPoints:0,i.obj.ablePoints=o.res.ablePoints?o.res.ablePoints:0,o.res&&o.res.pointsList){var a=o.res.pointsList;1===t.num&&(i.pointsList=[]),i.pointsList=i.pointsList.concat(a),i.$nextTick(function(){s.endSuccess(a.length)})}else i.$nextTick(function(){s.endSuccess(0)});else e()(o.optDesc),i.pointsList=[],i.obj.totalPoints=0,i.obj.ablePoints=0,i.$nextTick(function(){s.endSuccess(0)})}).catch(function(t){s.endErr()})},500)}}},c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"header-content"},[i("header",{staticClass:"mint-header"},[i("div",{staticClass:"mint-header-button is-left",on:{click:t.back}},[t._m(0)]),t._v(" "),i("h1",{staticClass:"mint-header-title"},[t._v("积分详情")]),t._v(" "),i("div",{staticClass:"mint-header-button is-right"})]),t._v(" "),i("div",{staticClass:"points-info"},[i("div",{staticClass:"my-points"},[i("span",[t._v("可用积分")]),t._v(" "),i("strong",[t._v(t._s(t.obj.ablePoints))])]),t._v(" "),i("em",[t._v("总积分"),i("span",[t._v(t._s(t.obj.totalPoints))])])]),t._v(" "),i("div",{staticClass:"btn-group"},[i("router-link",{attrs:{tag:"button",to:"/integralList"}},[t._v("兑换")])],1)]),t._v(" "),i("mescroll-vue",{ref:"mescroll",attrs:{down:t.mescrollDown,up:t.mescrollUp},on:{init:t.mescrollInit}},[i("div",{attrs:{id:"mescroll"}},[i("div",{staticClass:"points-wrapper"},[i("ul",{staticClass:"points-ul"},[i("li",{staticClass:"points-list"},[i("h5",{staticClass:"points-title"},[t._v("积分明细")])]),t._v(" "),t._l(t.pointsList,function(s,n){return i("li",{key:n,staticClass:"points-list"},[i("div",{staticClass:"points-info"},[i("h4",{staticClass:"points-name"},[t._v(t._s(s.pointsType))]),t._v(" "),i("span",{staticClass:"points-t"},[t._v(t._s(s.createTime))]),t._v(" "),i("p",[t._v(t._s(s.desc))])]),t._v(" "),i("span",{staticClass:"points-num"},[t._v(t._s(s.points))])])})],2)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"mint-button mint-button--default mint-button--normal",attrs:{"data-v-a23dccce":""}},[s("span",{staticClass:"mint-button-icon"},[s("i",{staticClass:"mintui mintui-back"})]),this._v(" "),s("label",{staticClass:"mint-button-text"})])}]};var r=i("VU/8")(l,c,!1,function(t){i("zrTW")},"data-v-23888d33",null);s.default=r.exports},zrTW:function(t,s){}});