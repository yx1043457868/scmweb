webpackJsonp([3],{"3lVw":function(t,s){},"5zde":function(t,s,e){e("zQR9"),e("qyJz"),t.exports=e("FeBl").Array.from},"66OU":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});e("OgVB");var i=e("/Lyv"),a=e.n(i),n=(e("34+y"),e("X+yh")),o=e.n(n),r=e("Gu7T"),c=e.n(r),u=e("bOdI"),p=e.n(u),l=e("/8Sv"),d=e("y7b9"),v=e("gsqX"),_=e.n(v),h=(e("mgS3"),e("dZ50")),f=(e("0xDb"),{name:"advdetail",data:function(){var t;return t={imgList:{},rawNewList:[]},p()(t,"imgList",[]),p()(t,"couponList",[]),p()(t,"notice","亲,暂无相关数据哦~"),t},components:{Tabbar:d.a,productList:h.a,cartBox:l.a},computed:{logintoken:function(){return this.$store.getters.logintoken}},created:function(){this.initPage(),this.initProduct()},mounted:function(){this._initSwiper()},methods:{back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.go(-1)},_initSwiper:function(){new _.a("#swiper1",{autoplay:!1,speed:300,loop:!1,pagination:".swiper-pagination",direction:"horizontal",watchOverflow:!0,autoplayDisableOnInteraction:!1,slidesPerView:1,paginationClickable:!0,centeredSlides:!1,observer:!0,observeParents:!0})},initPage:function(){if(!this.logintoken){var t=this.$route.query.pcid;this.$store.commit("setpcid",Number(t))}},initProduct:function(){var t=this,s=this.$route.query.id,e=this.$store.getters.account.account?this.$store.getters.account.account:"",i='{"companyId":"'+(this.$store.getters.account.companyId?this.$store.getters.account.companyId:"")+'","shopId":"'+(this.$store.getters.account.shopId?this.$store.getters.account.shopId:"")+'","shopType":"'+(this.$store.getters.shop.shopType?this.$store.getters.shop.shopType:"")+'","actId":"'+s+'","account":"'+e+'"}';this.$post("/mktAct/mktActivityDetail.do",{content:i,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(s){if("yes"==JSON.parse(s).optFlag){JSON.parse(s).res.mktAct&&(t.imgList=JSON.parse(s).res.mktAct),t.couponList=JSON.parse(s).res.mktActCoupon;for(var e=JSON.parse(s).res.mktActProduct,i=[],a=0,n=e.length;a<n;a++)i=[].concat(c()(e[a].list),c()(i));t.rawNewList=i}else"n"==JSON.parse(s).optFlag?(t.imgList=null,null!=JSON.parse(s).optDesc&&""!=JSON.parse(s).optDesc&&(t.notice=JSON.parse(s).optDesc)):t.notice="亲，暂无数据~哟"}).catch(function(t){})},receiveCouponHandle:function(t,s,e){var i=this,n=this.$store.getters.account?this.$store.getters.account:"";this.$store.getters.company&&this.$store.getters.company;if(n)if("1"==n.role){var r='{"account": "'+n.account+'","parentId": "'+t+'","couponId": "'+s+'"}';this.$post("/appCounpon/receiveCouponApp.do",{content:r,version:"kkllo",login_token:this.$store.getters.logintoken}).then(function(t){var s=JSON.parse(t);"yes"==s.optFlag?(o()({message:s.optDesc,duration:950}),i.couponList[e].hasGotten=1,s.receiveCoupon&&(i.receiveCoupon=s.receiveCoupon,i.cardShow=!0)):"no"==s.optFlag&&o()({message:s.optDesc,duration:950})}).catch(function(t){mescroll.endErr()})}else o()({message:"仅微批自营用户可领用",duration:950});else a.a.confirm("请先登录系统").then(function(t){i.$router.push({path:"/login"})}).catch(function(){})},useHandle:function(){o()({message:"已经领取该优惠券",duration:950})}}}),g={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"top_img"},[e("div",{staticClass:"back",on:{click:t.back}},[e("i",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),t.imgList&&null!=t.imgList?e("div",{staticClass:"out_box01"},[e("div",{staticClass:"swiper_img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.baseurl+t.imgList.img_path,expression:"baseurl+imgList.img_path"}],staticClass:"img-dec",attrs:{alt:t.imgList.content}})])]):t._e()]),t._v(" "),t.couponList&&t.couponList.length>0?e("div",{staticClass:"coupon"},t._l(t.couponList,function(s,i){return e("div",{key:i,staticClass:"coupon_box"},[e("div",{staticClass:"left_span"},[e("p",[t._v("￥"+t._s(s.couponValue))]),t._v(" "),e("div",{staticClass:"description"},[e("span",[t._v("满"+t._s(s.minMoney)+"使用")])]),t._v(" "),e("div",{staticClass:"notice"},[t._v(t._s(s.couponName))])]),t._v(" "),e("div",{staticClass:"right_span"},["0"==s.hasGotten&&s.gottenCount/s.totalNum!=1?e("span",{on:{click:function(e){t.receiveCouponHandle(s.parentId,s.ID,i)}}},[t._v("立即领取")]):"0"==s.hasGotten&&s.gottenCount/s.totalNum==1?e("span",{staticClass:"no_used"},[t._v("已抢完")]):e("span",{staticClass:"has_uesd",on:{click:function(s){return s.stopPropagation(),t.useHandle(s)}}},[t._v("已领取")]),t._v(" "),e("span",{staticClass:"span1 span0"}),t._v(" "),e("span",{staticClass:"span1 span2"}),t._v(" "),e("span",{staticClass:"span1 span3"}),t._v(" "),e("span",{staticClass:"span1 span4"})])])}),0):t._e(),t._v(" "),e("productList",{directives:[{name:"show",rawName:"v-show",value:t.rawNewList.length>0,expression:"rawNewList.length > 0"}],attrs:{dataList:t.rawNewList,shopcart:this.$refs.shopcart}}),t._v(" "),null==t.rawNewList||0==t.rawNewList.length||""==t.rawNewList?e("div",{staticClass:"empty_box"},[e("div",{staticClass:"empty-box"},[t._m(0),t._v(" "),e("p",[t._v(t._s(t.notice))])])]):t._e(),t._v(" "),e("cartBox",{ref:"shopcart"})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"empty-img"},[s("img",{attrs:{src:e("YHTk")}})])}]};var m=e("VU/8")(f,g,!1,function(t){e("CMXk")},"data-v-654e4c7d",null);s.default=m.exports},CMXk:function(t,s){},Gu7T:function(t,s,e){"use strict";s.__esModule=!0;var i,a=e("c/Tr"),n=(i=a)&&i.__esModule?i:{default:i};s.default=function(t){if(Array.isArray(t)){for(var s=0,e=Array(t.length);s<t.length;s++)e[s]=t[s];return e}return(0,n.default)(t)}},"c/Tr":function(t,s,e){t.exports={default:e("5zde"),__esModule:!0}},dZ50:function(t,s,e){"use strict";var i=e("HPsP"),a=(e("0xDb"),{name:"activeSlider",props:{dataList:{type:Array,default:function(){return[]}},shopcart:{type:Object,default:function(){return{}}}},components:{cartcontrol:i.a},data:function(){return{registerFlag:!!this.$store.getters.logintoken,shopType:this.$store.getters.shop?this.$store.getters.shop.shopType:4}},methods:{addFood:function(t){this._drop(t)},_drop:function(t){var s=this;this.$nextTick(function(){s.shopcart.drop(t)})}}}),n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"hot-list"},[e("ul",{staticClass:"productList clearfix"},t._l(t.dataList,function(s,i){return e("li",{key:i},[e("router-link",{attrs:{to:{path:"/detail",query:{id:s.id}}}},[e("div",{staticClass:"list-img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.baseurl+s.img_path,expression:"baseurl + item.img_path"}],attrs:{alt:"推荐购买"}})]),t._v(" "),e("div",{staticClass:"goods-info"},[e("h4",{staticClass:"list-name mui-ellipsis"},[t._v(t._s(s.spu_name?s.spu_name:s.sku_name))]),t._v(" "),e("p",{staticClass:"list-size mui-ellipsis"},[t._v("规格："+t._s(s.styleno))]),t._v(" "),s.full_gift&&2!=JSON.parse(s.full_gift).requireType?e("span",{staticClass:"tag"},[t._v("满赠")]):s.full_gift&&2==JSON.parse(s.full_gift).requireType?e("span",{staticClass:"tag"},[t._v("满减")]):e("span",{staticClass:"tag_empty"}),t._v(" "),t.registerFlag?e("em",{staticClass:"list-price"},[4!=t.shopType?e("span",{staticStyle:{"font-size":"12px"}},[t._v("会员价:")]):t._e(),e("span",[t._v("￥")]),1==s.is_default_spu&&s.spu_min_unit_price?e("span",[t._v(t._s(s.spu_min_unit_price))]):e("span",[t._v(t._s(s.unit_price))]),e("span",{staticClass:"unit"},[t._v("/"+t._s(s.unit))]),t._v(" "),1==s.is_default_spu?e("span",{staticStyle:{"font-size":"10px"}},[t._v("起")]):t._e()]):e("em",{staticClass:"list-price hide-price"},[t._v("价格：登录后可见")]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("cartcontrol",{attrs:{food:s},on:{addCart:t.addFood}})],1)])])],1)}),0)])},staticRenderFns:[]};var o=e("VU/8")(a,n,!1,function(t){e("3lVw")},"data-v-2c138bb2",null);s.a=o.exports},fBQ2:function(t,s,e){"use strict";var i=e("evD5"),a=e("X8DO");t.exports=function(t,s,e){s in t?i.f(t,s,a(0,e)):t[s]=e}},qyJz:function(t,s,e){"use strict";var i=e("+ZMJ"),a=e("kM2E"),n=e("sB3e"),o=e("msXi"),r=e("Mhyx"),c=e("QRG4"),u=e("fBQ2"),p=e("3fs2");a(a.S+a.F*!e("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var s,e,a,l,d=n(t),v="function"==typeof this?this:Array,_=arguments.length,h=_>1?arguments[1]:void 0,f=void 0!==h,g=0,m=p(d);if(f&&(h=i(h,_>2?arguments[2]:void 0,2)),void 0==m||v==Array&&r(m))for(e=new v(s=c(d.length));s>g;g++)u(e,g,f?h(d[g],g):d[g]);else for(l=m.call(d),e=new v;!(a=l.next()).done;g++)u(e,g,f?o(l,h,[a.value,g],!0):a.value);return e.length=g,e}})}});